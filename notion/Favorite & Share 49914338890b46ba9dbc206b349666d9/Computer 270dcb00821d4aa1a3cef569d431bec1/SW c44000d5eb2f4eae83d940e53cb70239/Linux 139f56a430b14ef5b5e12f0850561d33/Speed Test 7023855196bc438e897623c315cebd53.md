# Speed Test

# in shell

while true; do speedtest; sleep 600  ; done

i=2; while [ $i -le 10 ]; do speedtest; sleep 600  ; done

### install

sudo apt-get install curl
curl -s [https://install.speedtest.net/app/cli/install.deb.sh](https://install.speedtest.net/app/cli/install.deb.sh) | sudo bash
sudo apt-get install speedtest

### shell for crontab

```
#!/bin/bash
#  file name is netspeedtest.sh
#
#tail -n 1000 speedtest.log > tmp.txt
#rm speedtest.log
#mv tmp.txt speedtest.log
printf "\\n\\nnew test----\\n">> ~/speedtestresult.log
date >> ~/speedtestresult.log
speedtest >> ~/speedtestresult.log

```

### crontab setting

- /10 * * * * /home/l/test/netspeedtest.sh

---

crontab -e

MIN HOUR DOM MON DOW CMD

MIN 	分鐘 	0 到 59
HOUR 	小時 	0 到 23
DOM 	日 	1 到 31
MON 	月份 	1 到 12，此欄位亦可用英文簡稱取代，例如一月也可以寫 Jan。
DOW 	星期幾 	0（週日）到 6（週六），7 也代表週日。此欄位亦可用英文簡稱取代，例如週日也可以寫 Sun。
CMD 	要定期執行的指令 	任何可執行的程式或指令稿（包含參數），例如 /path/to/cmd --your --parameter。

星號（*） 	代表接受任意時刻，例如若在月份那一欄填入星號，則代表任一月份皆可。
逗號（,） 	分隔多個不同時間點。例如若要指定 3:00、6:00 與 9:00 三個時間點執行指令，就可以在第二欄填入 3,6,9。
減號（-） 	代表一段時間區間，例如若在第二欄填入 8-12 就代表從 8 點到 12 點的意思，也就是等同於 8,9,10,11,12。
斜線加數字（/n） 	n 代表數字，這樣寫的意思就是「每隔 n 的單位」的意思，例如若在第一欄填入 */5 就代表每間隔五分鐘執行         也可以寫成 0-59/5。

每十分鐘一次

- /10 * * * * /home/l/test/netspeedtest.sh

## speedtest

```

#!/bin/bash

#tail -n 1000 speedtest.log > tmp.txt
#rm speedtest.log
#mv tmp.txt speedtest.log

now=$(date +"%Y%m%d")
printf "\\n\\nnew test----\\n">> ~/speedtest_$now.log
echo $(date +"%Y/%m/%d %H:%M:%S") >> ~/speedtest_$now.log
speedtest >> ~/speedtest_$now.log

```

---

### install speedtest

sudo apt-get install curl
curl -s [https://install.speedtest.net/app/cli/install.deb.sh](https://install.speedtest.net/app/cli/install.deb.sh) | sudo bash
sudo apt-get install speedtest