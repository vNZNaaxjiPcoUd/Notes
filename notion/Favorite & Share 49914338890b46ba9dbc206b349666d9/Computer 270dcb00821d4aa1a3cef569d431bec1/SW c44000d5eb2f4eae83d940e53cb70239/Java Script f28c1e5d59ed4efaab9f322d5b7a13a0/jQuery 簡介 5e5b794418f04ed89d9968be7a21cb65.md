# jQuery 簡介

## 

### ∗ jQuery

### ▸ jQuery 是一個 JavaScript 檔案，內含許多函式，因此是一個函式庫 (Library)

### ▸ 與傳統 DOM 查詢一樣，但 jQuery 的語法較簡潔，提供的函式更多、功能更強

### ▸ jQuery 利用 CSS 樣式搜尋網頁元素，再利用 jQuery 函式進一步處理

### ✶ 例1：選擇 <li class="hot"> 元素 → 以'li.hot'為搜尋字串

### jQuery('li.hot');

### ✶ 例2：選擇後利用函式 .addClass() 新增 CSS 類別

### jQuery('li.hot').addClass('complete');

### 結果：<li class="hot complete">

### ▸ jQuery 可以 $ 符號代替，例如：$('li.hot');

### ▸ 常用指令：

```
var $element = $('#theId');          # 取得 id 為 'theId' 的 HTML 元素
var $element = $('.theClass');       # 取得 class 為 'theClass' 的 HTML 元素
var content = $('#theId').html();    # 回覆元素的 HTML 內容
$('#theId').html('The content');     # 設定元素的 HTML 內容

```

### ✶ 習慣上，會在 jQuery 物件變數前加上 $ 號，以標明其為 jQuery 物件

### ∗ 兩種方式匯入 jQuery

### ▸ 下載檔案：下載 jquery-x.x.x.min.js 並置於 js 目錄中，然後建立連結：

### <script src="js/jquery-x.x.x.min.js"></script>

### ✶ x.x.x：版本 (2.x.x 版不支援 IE<=8)

### ✶ *.min.js：縮小板 (Minified)，空白及回車字元全部刪除 (一般版約 250KB，縮小版約 9KB)

### ✶ 優點：不需依賴其他伺服器

### ▸ 透過 CDN (Content delivery network) 連結：

### <script src="https://ajax.googleapis.com/ajax/libs/jquery/x.x.x/jquery.min.js"></script>

### ✶ 優點：使用者的瀏覽器非常可能已有 jQuery，因此完全不需要下載

### ✶ Google jQuery 版本資訊： [https://developers.google.com/speed/libraries/devguide#jquery](https://developers.google.com/speed/libraries/devguide#jquery)

### → 建議使用此方式

### ∗ jQuery 的優點 (相對於純 JavaScript)

### ▸ jQuery 所有的功能都能以純 JavaScript 完成，但 jQuery 使程式設計更簡單，口號：Write less, do more.

### ▸ 簡單的選擇器

### ✶ 使用前端工程師們早已熟悉的 CSS 選擇模式，語法較簡潔

### ✶ 選擇速度更快，且正確率提高

### ▸ 程式碼大幅減少

### ✶ 處理器可以一次應用在所有選擇到的元素，無需撰寫迴圈個別處理

### ✶ DOM tree 處理效率高：加入或移除元素、處理事件、淡入淡出、處理 Ajax 請求等都更為方便

### ✶ 方便的 DOM 選擇器與鏈式語法，例如：

### $('p.myParagraph').addClass('red').show('slow');

### ▸ 跨瀏覽器，無需針對不同瀏覽器撰寫不同程式，亦無需撰寫倒退程式

### ✶ jQuery 有特色偵查 (Feature detection)，自動選擇適當的程式

### ▸ 提供更多、功能更強的函式

### ∗ jQuery 與 JavaScript 比較範例

### fadeIn.html：

```
<!doctype html>
<html>
<head>
</head>
<body>
<ul>
  <li>第 1 項</li>
  <li>第 2 項</li>
  <li>第 3 項</li>
  <li>第 4 項</li>
</ul>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/fadeIn.js"></script>
</body>
</html>

```

### ▸ 功能：先隱藏前三個 </li> 元素，然後在 2 秒內淡入

### ✶ JavaScript fadeIn.js (近 20 行)：

```
lis = document.getElementsByTagName('li');
for (i=0; i<3; i++) {
  lis[i].style.display = 'none';
}

for (i=0; i<3; i++) {
  fadeIn(lis[i]);
}

// fade in
function fadeIn(el, display){
  el.style.opacity = 0;
  el.style.display = display || "block";
  (function fade() {
    var val = parseFloat(el.style.opacity);
    if (!((val += .01) > 1)) {
      el.style.opacity = val;
      requestAnimationFrame(fade);
    }
  })();
}

```

### ✶ jQuery fadeIn.js (1 行)：

```
$('li:lt(3)').hide().fadeIn(2000);

```

### ∗ 再訪先前的練習

### ▸ String variable：將 string-variable.html 如下修改，並另存新檔為 string-variable2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/string-variable2.js"></script>
</body>
</html>

```

### string-variable2.js

```
$(document).ready(function() {

  var username = '親愛的顧客';
  var message = '歡迎看看我們最新推出的系列';

  $('#name').html(username);
  $('#note').html(message);

});

```

### ✶ document：JavaScript 的文件物件 (Document object)

### ✶ $(document)：jQuery 的文件物件

### ✶ .ready(...)：呼叫 jQuery 文件物件的方法，在文件就緒 (Ready，所有 HTML 元素均載入完畢) 後，執行 ready() 函式

### ✶ function() { ... }：匿名函式 (稍後第 3 章說明)

### ▸ String with quotes：將 string-with-quotes.html 如下修改，並另存新檔為 string-with-quotes2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/string-with-quotes2.js"></script>
</body>
</html>

```

### string-with-quotes2.js

```
$(document).ready(function() {

  var title = '特殊顧客的特殊價格';
  var message = '<a href="sale.html">75折！</a>';

  $('#title').html(title);
  $('#note').html(message);

});

```

### ▸ Numeric variable：將 numeric-variable.html 如下修改，並另存新檔為 numeric-variable2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/numeric-variable2.js"></script>
</body>
</html>

```

### numeric-variable2.js

```
$(document).ready(function() {

  var price = 50;
  var quantity = 14;
  var total = price*quantity;

  $('#cost').html('小計：$' + total);

});

```

### ✶ $('#cost').html('小計：$' + total)：擷取 id 為 cost 的 HTML 元素，
然後設定其 HTML 內容，JavaScript 在頁面尋找元素的模式和 CSS 相同，兩者相容因此廣受歡迎

### ▸ Array literal：將 array-literal.html 如下修改，並另存新檔為 array-literal2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/array-literal2.js"></script>
</body>
</html>

```

### array-literal2.js

```
$(document).ready(function() {

  var colors = ['white', 'black', 'custom'];

  $('#colors').html(colors[0]);

});

```

### ▸ Array constructor：將 array-constructor.html 如下修改，並另存新檔為 array-constructor2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/array-constructor2.js"></script>
</body>
</html>

```

### array-constructor2.js

```
$(document).ready(function() {

  var colors = new Array('white', 'black', 'custom');

  $('#colors').html(colors[0]);

});

```

### ▸ Arithmetic operator：將 arithmetic-operator.html 如下修改，並另存新檔為 arithmetic-operator2.html

```
...
</body>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/arithmetic-operator2.js"></script>
...

```

### arithmetic-operator2.js

```
$(document).ready(function() {

  var subtotal = (13 + 1) * 5;
  var shipping = 0.5 * (13 + 1);
  var total = subtotal + shipping;

  $('#subtotal').html(subtotal);
  $('#shipping').html(shipping);
  $('#total').html(total);

});

```

### ▸ String operator：將 string-operator.html 如下修改，並另存新檔為 string-operator2.html

```
...
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/string-operator2.js"></script>
...

```

### string-operator2.js

```
$(document).ready(function() {

  var greeting = '您好，';
  var name = '張先生';
  var welcomeMessage = greeting + name + '!';

  $('#greeting').html(welcomeMessage);

```